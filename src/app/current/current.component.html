<h2>Current</h2>

<ng-container *ngIf="(current$|async) as item">
  <ng-template #noitem>
    No current item found.
  </ng-template>
  <ng-container *ngIf="item.start; else noitem">
    <ul>

      <li class="start">

        <label>
          <span>start</span>
        </label>

        <div>
          <span>
            {{item.start.format('M/DD/YYYY HH:mm')}}
          </span>
        </div>
      </li>

      <li class="end">

        <label>
          <span>end</span>
        </label>

        <div>
          <span *ngIf="item.end">
            {{item.end.format('M/DD/YYYY HH:mm')}}
          </span>
        </div>
      </li>


      <ng-container *ngFor="let field of config.fields">

        <ng-container *ngIf="field.foreignKey">
          <ng-container *ngIf="foreignKeyEntitiesIdMap[field.foreignKey]">
            <li [ngClass]="selectorentity">
              <label>
                <span>{{field.name}}</span>
              </label>
              <div>
                <ng-container *ngIf="item[field.name] as id">

                  <span>
                    {{foreignKeyEntitiesIdMap[field.foreignKey][id][field.label]}}</span>
                </ng-container>
                <ng-container *ngIf="!item[field.name]">
                  <span>any</span>
                </ng-container>
              </div>
            </li>
          </ng-container>
        </ng-container>

        <ng-container *ngIf="field.type==='quantity'">
          <li>
            <label>
              <span>{{field.name}}</span>
            </label>
            <div><span>{{item[field.name]}}</span></div>
          </li>
        </ng-container>

      </ng-container>


    </ul>
  </ng-container>

</ng-container>